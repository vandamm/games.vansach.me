<!DOCTYPE html>
<html>
<head>
  <title>All my boardgames</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.7">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20fill%3D%22%23b71c1c%22%3E%3Cpath%20d%3D%22M256%2054.99c-27%200-46.418%2014.287-57.633%2032.23-10.03%2016.047-14.203%2034.66-15.017%2050.962-30.608%2015.135-64.515%2030.394-91.815%2045.994-14.32%208.183-26.805%2016.414-36.203%2025.26C45.934%20218.28%2039%20228.24%2039%20239.99c0%205%202.44%209.075%205.19%2012.065%202.754%202.99%206.054%205.312%209.812%207.48%207.515%204.336%2016.99%207.95%2027.412%2011.076%2015.483%204.646%2032.823%208.1%2047.9%209.577-14.996%2025.84-34.953%2049.574-52.447%2072.315C56.65%20378.785%2039%20403.99%2039%20431.99c0%204-.044%207.123.31%2010.26.355%203.137%201.256%207.053%204.41%2010.156%203.155%203.104%207.017%203.938%2010.163%204.28%203.146.345%206.315.304%2010.38.304h111.542c8.097%200%2014.026.492%2020.125-3.43%206.1-3.92%208.324-9.275%2012.67-17.275l.088-.16.08-.166s9.723-19.77%2021.324-39.388c5.8-9.808%2012.097-19.576%2017.574-26.498%202.74-3.46%205.304-6.204%207.15-7.754.564-.472.82-.56%201.184-.76.363.2.62.288%201.184.76%201.846%201.55%204.41%204.294%207.15%207.754%205.477%206.922%2011.774%2016.69%2017.574%2026.498%2011.6%2019.618%2021.324%2039.387%2021.324%2039.387l.08.165.088.16c4.346%208%206.55%2013.323%2012.61%2017.254%206.058%203.93%2011.974%203.45%2019.957%203.45H448c4%200%207.12.043%2010.244-.304%203.123-.347%206.998-1.21%2010.12-4.332%203.12-3.122%203.984-6.997%204.33-10.12.348-3.122.306-6.244.306-10.244%200-28-17.65-53.205-37.867-79.488-17.493-22.74-37.45-46.474-52.447-72.315%2015.077-1.478%2032.417-4.93%2047.9-9.576%2010.422-3.125%2019.897-6.74%2027.412-11.075%203.758-2.168%207.058-4.49%209.81-7.48%202.753-2.99%205.192-7.065%205.192-12.065%200-11.75-6.934-21.71-16.332-30.554-9.398-8.846-21.883-17.077-36.203-25.26-27.3-15.6-61.207-30.86-91.815-45.994-.814-16.3-4.988-34.915-15.017-50.96C302.418%2069.276%20283%2054.99%20256%2054.99z%22%2F%3E%3C%2Fsvg%3E">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,100..1000&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,1,-50..200" />
  <script src="https://cdn.jsdelivr.net/npm/sql.js@1.10.3/dist/sql-wasm.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fflate@0.8.2/umd/index.js"></script>
</head>
<body>
  <header class="search">
    <img class="logo" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20512%20512%22%20fill%3D%22%23b71c1c%22%3E%3Cpath%20d%3D%22M256%2054.99c-27%200-46.418%2014.287-57.633%2032.23-10.03%2016.047-14.203%2034.66-15.017%2050.962-30.608%2015.135-64.515%2030.394-91.815%2045.994-14.32%208.183-26.805%2016.414-36.203%2025.26C45.934%20218.28%2039%20228.24%2039%20239.99c0%205%202.44%209.075%205.19%2012.065%202.754%202.99%206.054%205.312%209.812%207.48%207.515%204.336%2016.99%207.95%2027.412%2011.076%2015.483%204.646%2032.823%208.1%2047.9%209.577-14.996%2025.84-34.953%2049.574-52.447%2072.315C56.65%20378.785%2039%20403.99%2039%20431.99c0%204-.044%207.123.31%2010.26.355%203.137%201.256%207.053%204.41%2010.156%203.155%203.104%207.017%203.938%2010.163%204.28%203.146.345%206.315.304%2010.38.304h111.542c8.097%200%2014.026.492%2020.125-3.43%206.1-3.92%208.324-9.275%2012.67-17.275l.088-.16.08-.166s9.723-19.77%2021.324-39.388c5.8-9.808%2012.097-19.576%2017.574-26.498%202.74-3.46%205.304-6.204%207.15-7.754.564-.472.82-.56%201.184-.76.363.2.62.288%201.184.76%201.846%201.55%204.41%204.294%207.15%207.754%205.477%206.922%2011.774%2016.69%2017.574%2026.498%2011.6%2019.618%2021.324%2039.387%2021.324%2039.387l.08.165.088.16c4.346%208%206.55%2013.323%2012.61%2017.254%206.058%203.93%2011.974%203.45%2019.957%203.45H448c4%200%207.12.043%2010.244-.304%203.123-.347%206.998-1.21%2010.12-4.332%203.12-3.122%203.984-6.997%204.33-10.12.348-3.122.306-6.244.306-10.244%200-28-17.65-53.205-37.867-79.488-17.493-22.74-37.45-46.474-52.447-72.315%2015.077-1.478%2032.417-4.93%2047.9-9.576%2010.422-3.125%2019.897-6.74%2027.412-11.075%203.758-2.168%207.058-4.49%209.81-7.48%202.753-2.99%205.192-7.065%205.192-12.065%200-11.75-6.934-21.71-16.332-30.554-9.398-8.846-21.883-17.077-36.203-25.26-27.3-15.6-61.207-30.86-91.815-45.994-.814-16.3-4.988-34.915-15.017-50.96C302.418%2069.276%20283%2054.99%20256%2054.99z%22%2F%3E%3C%2Fsvg%3E" alt="Red meeple logo" height="36" width="36">
    <div class="search-box" id="search-box"></div>
    <label for="sort-by">Sort by:</label>
    <div class="sort-by" id="sort-by"></div>
    <div class="stats" id="stats"></div>
  </header>
  <article class="wrapper">
    <aside class="facets">
      <div id="facet-players"></div>
      <div id="facet-playing-time"></div>
      <div id="facet-weight"></div>
      <div id="facet-categories"></div>
      <div id="facet-mechanics"></div>
      <div id="facet-min-age"></div>
      <div id="facet-previous-players"></div>
      <div id="facet-numplays"></div>
      <div class="clear-all" id="clear-all"></div>
    </aside>
    <main class="results">
      <div class="hits" id="hits">
        <div class="loading">Loading database...</div>
      </div>
      <div id="pagination"></div>
    </main>
  </article>

  <!-- HTML Templates -->
  <template id="filter-item-template">
    <label class="filter-item">
      <div class="filter-item-main">
        <input type="" name="" value="">
        <span class="filter-label"></span>
      </div>
      <span class="facet-count"></span>
    </label>
  </template>

  <template id="game-card-template">
    <details class="game-card" data-color="">
      <summary class="game-summary">
        <img src="" alt="" class="game-image">
      </summary>
      <div class="game-details">
        <div class="card-header">
          <div class="cover-image">
            <img src="" alt="" class="cover-image-img">
          </div>
          <div class="title-section">
            <h1 class="game-title"></h1>
            <div class="category-chips-container"></div>
          </div>
          <button class="close-button">
            <span class="material-symbols-rounded icon-small">close</span>
          </button>
        </div>

        <div class="stats-bar">
          <div class="stat-item playing-time-stat" style="display: none;">
            <span class="material-symbols-rounded icon-themed">schedule</span>
            <span class="playing-time-value"></span>
          </div>
          <div class="stat-item players-stat" style="display: none;">
            <span class="material-symbols-rounded icon-themed">group_work</span>
            <span><span class="players-value"></span> players</span>
          </div>
          <div class="stat-item complexity-stat" style="display: none;">
            <div class="complexity-gauge-container"></div>
            <span class="complexity-name"></span>
          </div>
          <div class="stat-item min-age-stat" style="display: none;">
            <span class="material-symbols-rounded icon-themed">child_care</span>
            <span class="min-age-value"></span>
          </div>
        </div>

        <div class="description-section">
          <div class="teaser-text" data-full-text="">
          </div>
        </div>

        <div class="tags-section">
          <h2>Mechanics</h2>
          <div class="mechanic-chips-container"></div>
        </div>

        <div class="expansions-section" style="display: none;">
          <h2>Expansions</h2>
          <div class="expansion-chips"></div>
        </div>

        <div class="bottom-info">
          <div class="stat-item rating-section" style="display: none;">
            <div class="rating-gauge-container"></div>
            <span>Rating</span>
          </div>
          <div class="stat-item rank-section" style="display: none;">
            <span class="material-symbols-rounded icon-themed">stars</span>
            <span>Rank: <span class="rank-value"></span></span>
          </div>
          <div class="stat-item plays-section">
            <span class="material-symbols-rounded icon-themed">timer_play</span>
            <span><span class="numplays-value"></span> plays</span>
          </div>
          <div class="stat-item bgg-link-section">
            <span class="material-symbols-rounded icon-themed">outbound</span>
            <a href="" target="_blank" class="bgg-link">View on BGG</a>
          </div>
        </div>
      </div>
    </details>
  </template>

  <template id="expansion-chip-template">
    <a href="" target="_blank" class="expansion-chip"></a>
  </template>

  <template id="category-chip-template">
    <span class="tag-chip category-chip"></span>
  </template>

  <template id="mechanic-chip-template">
    <span class="tag-chip mechanic-chip"></span>
  </template>

  <template id="complexity-gauge-template">
    <svg class="complexity-gauge" width="24" height="24" viewBox="0 0 24 24" style="display: block;">
      <circle class="gauge-bg" cx="12" cy="12" r="10" />
      <circle class="gauge-fg" cx="12" cy="12" r="10" stroke-dasharray="" stroke-dashoffset="" />
      <text class="gauge-text" x="12" y="12" dy=".3em"></text>
    </svg>
  </template>

  <template id="rating-gauge-template">
    <svg class="complexity-gauge rating-gauge" width="24" height="24" viewBox="0 0 24 24" style="display: block;">
      <circle class="gauge-bg" cx="12" cy="12" r="10" />
      <circle class="gauge-fg" cx="12" cy="12" r="10" stroke-dasharray="" stroke-dashoffset="" />
      <text class="gauge-text" x="12" y="12" dy=".3em"></text>
    </svg>
  </template>

  <template id="error-template">
    <div class="error">
      <h2>⚠️ Database Loading Error</h2>
      <pre class="error-message"></pre>
    </div>
  </template>

  <template id="no-results-template">
    <div class="no-results">No games found matching your criteria.</div>
  </template>

  <template id="pagination-template">
    <div class="pagination"></div>
  </template>

  <template id="pagination-button-template">
    <button class="pagination-btn"></button>
  </template>

  <template id="pagination-ellipsis-template">
    <span>...</span>
  </template>

  <template id="tag-chips-container-template">
    <div class="tag-chips"></div>
  </template>

  <template id="more-button-template">
    <button class="more-button" onclick="handleMoreButtonClick(this)">more</button>
  </template>

  <template id="less-button-template">
    <button class="more-button" onclick="handleMoreButtonClick(this)">less</button>
  </template>

  <template id="filter-dropdown-template">
    <details class="filter-dropdown">
      <summary><span class="material-symbols-rounded icon-medium">filter_list</span> <span class="filter-title"></span></summary>
      <div class="filter-dropdown-content"></div>
    </details>
  </template>

  <template id="game-grid-template">
    <div class="game-grid"></div>
  </template>

  <script src="app-sqlite.js"></script>
</body>
</html>
